window.MFT=function(){return{api_url:null,pixel:null,setCookie:function(a,b=null,c=365,d="/"){let e,f=new Date;b&&f.setTime(f.getTime()+1e3*(60*(60*(24*c)))),e=f.toUTCString(),document.cookie=a+"="+b+"; expires="+e+"; path="+d},getCookie:function(a){const b=`; ${document.cookie}`,c=b.split(`; ${a}=`);return 2===c.length?c.pop().split(";").shift():null},getFbc:function(){const a=this.getCookie("_fbc");if(a)return a;else{const a=new URLSearchParams(window.location.search);if(a.has("fbclid"))return"fb.1."+new Date().getTime()+"."+a.get("fbclid")}return null},makeQueryString:function(a){const b=function(a,c){let d=[];for(let e in a)if(a.hasOwnProperty(e)){let f=c?c+"["+e+"]":e,g=a[e];d.push(null!==g&&"object"==typeof g?b(g,f):encodeURIComponent(f)+"="+encodeURIComponent(g))}return d.filter(function(a){return 0<a.length}).join("&")};return b(a)},getMetaTagValue:function(a){let b=document.querySelector("meta[name=\""+a+"\"]");return b?b.getAttribute("content"):null},getVisitorId:function(){return this.getCookie("mf_"+this.getMetaTagValue("mf_pid")+"_uid")},getPageId:function(){return this.getMetaTagValue("mf_pid")},getPageParentId:function(){return this.getMetaTagValue("mf_ppid")},setVisitorId:function(a=null){return this.setCookie("mf_"+this.getMetaTagValue("mf_pid")+"_uid",a)},recordEvent:function(a,b={},c="GET"){const d=this.getPageId(),e=this.getVisitorId(),f=this.getPageParentId();if(e&&(b.uid=e),b.pid=d,b.ppid=f,b.ref=document.referrer?document.referrer:null,"BEACON"===c)return void navigator.sendBeacon(this.api_url+"/"+a,b);const g=this.api_url+"/"+a+"?"+this.makeQueryString(b);return new Promise(function(a,b){fetch(g).then(function(c){c.json().then(function(d){200===c.status?a(d):b(d)})}).catch(function(a){b(a)})})},setMFTagLink(a){let b=document.getElementById("mf-tag-link");if(!b){const a=document.createElement("style");a.innerHTML=".powered-by-branding {position: fixed;bottom: 0;right: 0;width: 114px;height: 36px;z-index: 10000;display: block;border: 0 solid #f5f5f5;background: -moz-radial-gradient(center,ellipse cover,rgba(0,0,0,0.6) 0%,rgba(0,0,0,0.6) 1%,#000 100%);background: -webkit-radial-gradient(center,ellipse cover,rgba(0,0,0,0.6) 0%,rgba(0,0,0,0.6) 1%,#000 100%);background: -o-radial-gradient(center,ellipse cover,rgba(0,0,0,0.6) 0%,rgba(0,0,0,0.6) 1%,#000 100%);background: -ms-radial-gradient(center,ellipse cover,rgba(0,0,0,0.6) 0%,rgba(0,0,0,0.6) 1%,#000 100%);background: radial-gradient(ellipse at center,rgba(0,0,0,0.6) 0%,rgba(0,0,0,0.7) 1%,#000 100%);border-top-left-radius: 8px;padding: 4px;padding-left: 10px;}.powered-by-branding .made-by {font-family: Montserrat, sans-serif;font-size: 9px;color: #b2b2b2;}.powered-by-branding img {max-width: 100%;margin-top: -12px; margin-left: -7px;}",b=document.createElement("a"),b.id="mf-tag-link",b.target="_blank",b.style.appearance="none",b.innerHTML="<div class=\"powered-by-branding\"> <div class=\"made-by\">Feito com</div><img loading=\"eager\" decoding=\"async\" width=\"100\" height=\"13\" src=\"https://assets.makefunnels.com.br/static/mf/makefunnels-logo-negative-short.svg\"></div>",document.head.appendChild(a),document.body.appendChild(b)}b.href=a},init:function(a=!0){const b=this;return this.api_url=this.getMetaTagValue("mf_event_url"),a&&this.recordEvent("visit").then(function(a){a.hasOwnProperty("unique_visit_id")&&b.setVisitorId(a.unique_visit_id),a.hasOwnProperty("mf_tag_link")&&b.setMFTagLink(a.mf_tag_link)}).catch(function(a){console.log(a),b.setVisitorId()}),this},callFacebookSDKPixel:function(){window.hasOwnProperty("mf_fb_pixel")&&window.mf_fb_pixel&&(!function(a,c,b,d,e,f,g){a.fbq||(e=a.fbq=function(){e.callMethod?e.callMethod.apply(e,arguments):e.queue.push(arguments)},!a._fbq&&(a._fbq=e),e.push=e,e.loaded=!0,e.version="2.0",e.queue=[],f=c.createElement(b),f.async=!0,f.src=d,g=c.getElementsByTagName(b)[0],g.parentNode.insertBefore(f,g))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js"),Array.isArray(window.mf_fb_pixel)?window.mf_fb_pixel.forEach(function(a){window.mfTracking.initPixel(a)}):window.mf_fb_pixel.split(",").forEach(a=>{window.mfTracking.initPixel(a)}),window.mfTracking.recordFbEvent("PageView"),window.hasOwnProperty("mf_pixel_events")&&Array.isArray(window.mf_pixel_events)&&window.mf_pixel_events.forEach(function(a){0<a.length&&window.mfTracking.recordFbEvent(a)}))},callGoogleAnalyticsSDKPixel:function(){window.hasOwnProperty("mf_ga_pixel")&&window.mf_ga_pixel&&loadScript("https://www.googletagmanager.com/gtag/js?id="+window.mf_ga_pixel,!0,function(){function a(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],a("js",new Date),a("config",window.mf_ga_pixel)})},callGoogleTagManagerSDKPixel(){if(window.hasOwnProperty("mf_gtm_pixel")&&window.mf_gtm_pixel){(function(a,b,c,d,e){a[d]=a[d]||[],a[d].push({"gtm.start":new Date().getTime(),event:"gtm.js"});var g=b.getElementsByTagName(c)[0],f=b.createElement(c),h="dataLayer"==d?"":"&l="+d;f.async=!0,f.src="https://www.googletagmanager.com/gtm.js?id="+e+h,g.parentNode.insertBefore(f,g)})(window,document,"script","dataLayer",window.mf_gtm_pixel);const a=document.createElement("noscript"),b=document.createElement("iframe");b.src=`https://www.googletagmanager.com/ns.html?id=${window.mf_gtm_pixel}`,b.height=0,b.width=0,b.style.display="none",b.style.visibility="hidden",a.appendChild(b),document.body.append(a)}},initPixel(a){"function"==typeof fbq&&fbq("init",a)},recordFbEvent:function(a="PageView",b=null){if(!a||0==a.length)return;let c="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){let b=0|16*Math.random(),c="x"==a?b:8|3&b;return c.toString(16)});const d=function(){"function"==typeof fbq&&fbq("track",a,{},{eventID:c})};this.recordEvent("Fb",{ev_id:c,ev_type:a,fbp:this.getCookie("_fbp"),fbc:this.getFbc(),source_url:encodeURIComponent(window.location),...b}).then(d).catch(d)}}},window.addEventListener("load",function(){const a=window.mf_is_bot||!1;a||(window.mfTracking=window.MFT().init(),window.mfTracking.callFacebookSDKPixel(),window.mfTracking.callGoogleTagManagerSDKPixel(),window.mfTracking.callGoogleAnalyticsSDKPixel())});